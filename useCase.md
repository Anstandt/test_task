**ID** UC-1.1  
**Название** Осуществить перевод денег на счет другому лицу  
**Действующее лицо** Пользователь  
**Предусловия**   
1. Пользователь аутентифицирован и авторизован в  веб/мобильном приложении
2. Система выводит список доступных операций

# Основной поток
   
1. Пользователь выбирает операцию “Перевести деньги на счет другому человеку”.
2. Система выводит список доступных типов перевода.
3. Пользователь выбирает тип “По номеру счета”.
4. Система выводит список счетов пользователя.
5. Пользователь выбирает счет, с которого хочет перевести деньги.
6. Система проверяет, что переводы с этого счета возможны.
7. Система выводит форму для ввода сведений перевода.
8. Пользователь вводит данные о счете получателя: ФИО получателя, БИК банка, номера счета.
9. Пользователь указывает сумму перевода, назначение перевода.
10. Система проверяет БИК банка по справочнику “БИК”.
11. Система рассчитывает комиссию перевода.
12. Пользователь выбирает функцию “Отправить  перевод”.
13. Система проверяет данные, указанные в переводе.
14. Система сохраняет данные о переводе.
15. Система запрашивает у пользователя код подтверждения.
16. Пользователь вводит полученный код подтверждения.
17. Система списывает сумму размера перевода и комиссии со выбранного счета пользователя.
18. Система зачисляет комиссию на счет банка.
19. Система отправляет поручение о зачислении денег на счет Внешнего банка. 
20. Система получает из Внешней системы сообщение об успешном получении сведений о переводе.
21. Система сообщает о завершении операции.

# Расширение

**6a С выбранного счета невозможно сделать перевод**
 - 6а1 Система обнаруживает, что с выбранного счета невозможно сделать перевод.  
 - 6а2 Система оповещает пользователя об  ошибке.  
 - 6а3 Выполнение сценария возвращает в основной поток в п.2  

**10a Введен некорректный БИК банка**   
 - 10а1 Система обнаруживает, что БИК банка не найден в справочнике “БИК”.  
 - 10а2 Система оповещает пользователя об  ошибке.  
 - 10а3 Выполнение сценария возвращает в основной поток в п.6  

**13a Введен некорректный номер счета получателя**
 - 13а1 Система обнаруживает, что введенный номер счета не соответствует контрольной сумме.  
 - 13а2 Система оповещает пользователя об  ошибке.  
 - 13а3 Выполнение сценария возвращает в основной поток в п.8  

**13b Пользователь не является владельцем счета** 
 - 13b1 Система обнаруживает, что введенный номер счета не соответствует контрольной сумме.  
 - 13b2 Система оповещает пользователя об  ошибке.  
 - 13b3 Выполнение сценария возвращает в основной поток в п.5  

**13c На счете недостаточно денег для совершения перевода** 
 - 13c1 Система обнаруживает, что на выбранном счете   пользователя не хватает денег для проведения перевода.  
 - 13c2 Система оповещает пользователя об  ошибке.  
 - 13c3 Выполнение сценария возвращает в основной поток в п.10  

**16a Пользователь ввёл неверный код** 
 - 16а1 Система обнаруживает, что пользователь ввел неверный код подтверждения.  
 - 16а2 Система оповещает пользователя об  ошибке.  
 - 16a3 Система удаляет код подтверждения.  
 - 16а4 Выполнение сценария возвращает в основной поток в п.13  

